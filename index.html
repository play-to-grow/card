<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ¯æ—¥ä»™å¥³å¡ | Fairy Daily</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="importmap">{"imports": {"@google/generative-ai": "https://esm.run/@google/generative-ai"}}</script>

    <style>
      @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&family=ZCOOL+KuaiLe&family=Noto+Sans+SC:wght@400;500;700&display=swap');
      body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background-color: #7dd3fc; font-family: 'Fredoka', 'Noto Sans SC', sans-serif; }
      .pop-font { font-family: 'ZCOOL KuaiLe', 'Fredoka', cursive; }
      .perspective-1000 { perspective: 1000px; }
      .transform-style-3d { transform-style: preserve-3d; }
      .backface-hidden { backface-visibility: hidden; }
      .rotate-y-180 { transform: rotateY(180deg); }
      
      /* V9ä¿®æ­£ï¼šæ”¹ä¸º justify-content: centerï¼Œå¼ºåˆ¶å‚ç›´å±…ä¸­ */
      .main-layout { width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 1.5rem; position: relative; }
      
      /* å¡ç‰Œå®¹å™¨ */
      .card-stage { position: relative; width: 80vw; max-width: 260px; aspect-ratio: 3/4.5; z-index: 10; flex-shrink: 0; display: flex; align-items: center; justify-content: center; }
      
      @keyframes float { 0%, 100% { transform: translateY(0px) rotate(5deg); } 50% { transform: translateY(-8px) rotate(-5deg); } }
      .fairy-fly { animation: float 3s ease-in-out infinite; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel" data-type="module">
      import { GoogleGenerativeAI } from "@google/generative-ai";
      const { useState, useEffect, useMemo } = React;
      const { createRoot } = ReactDOM;

      // ğŸ‘‡ğŸ‘‡ğŸ‘‡ è®°å¾—åœ¨è¿™é‡Œå¡«å…¥ä½ çš„ Key (ä¿ç•™åŒå¼•å·) ğŸ‘‡ğŸ‘‡ğŸ‘‡
      const YOUR_API_KEY = "AIzaSyBAvDfnYtzXmeeycna88DN8YRIHBWcP_4Q";

      // V8åŒè¡Œæ–‡æ¡ˆ
      const COLOR_MEANINGS = {
          "bg-pink-400": ["Woooï¼ä½ æŠ½åˆ°äº†ç²‰è‰²æ¬¸ï¼ä»£è¡¨ã€æ¡ƒèŠ±ä¸äººç¼˜ã€‘", "ä»Šå¤©çš„ç»™äººå®¶æ˜¯ æ¸©æŸ” çš„æ„Ÿè§‰ ğŸ’–"],
          "bg-purple-400": ["Woooï¼ä½ æŠ½åˆ°äº†ç´«è‰²æ¬¸ï¼ä»£è¡¨ã€ç›´è§‰ä¸çµæ„Ÿã€‘", "ä»Šå¤©çš„ç»™äººå®¶æ˜¯ ç¥ç§˜ çš„æ„Ÿè§‰ ğŸ”®"],
          "bg-sky-400": ["Woooï¼ä½ æŠ½åˆ°äº†è“è‰²æ¬¸ï¼ä»£è¡¨ã€æ™ºæ…§ä¸å†·é™ã€‘", "ä»Šå¤©çš„ç»™äººå®¶æ˜¯ æ¸…æ¾ˆ çš„æ„Ÿè§‰ ğŸ’§"],
          "bg-lime-400": ["Woooï¼ä½ æŠ½åˆ°äº†é’è‰²æ¬¸ï¼ä»£è¡¨ã€æ²»æ„ˆä¸ç”Ÿé•¿ã€‘", "ä»Šå¤©çš„ç»™äººå®¶æ˜¯ ç”Ÿæœºæ»¡æ»¡ çš„æ„Ÿè§‰ ğŸŒ¿"],
          "bg-yellow-400": ["Woooï¼ä½ æŠ½åˆ°äº†é»„è‰²æ¬¸ï¼ä»£è¡¨ã€è‡ªä¿¡ä¸åˆ›é€ ã€‘", "ä»Šå¤©çš„ç»™äººå®¶æ˜¯ é—ªè€€ çš„æ„Ÿè§‰ âœ¨"]
      };

      const Icons = {
        Cloud: () => <svg width="48" height="48" viewBox="0 0 24 24" fill="white"><path d="M18 10C18 6.68629 15.3137 4 12 4C8.68629 4 6 6.68629 6 10C3.79086 10 2 11.7909 2 14C2 16.2091 3.79086 18 6 18H18C20.2091 18 22 16.2091 22 14C22 11.7909 20.2091 10 18 10Z" /></svg>,
        Sparkles: () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M9 3v4"/><path d="M3 5h4"/><path d="M3 9h4"/></svg>,
        Play: () => <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><polygon points="5 3 19 12 5 21 5 3"/></svg>,
        Rotate: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></svg>
      };

      const STATIC_CARDS = [{ title: "å¥½è¿åŠ æ»¡", wisdom: "å®‡å®™æ¥æ”¶åˆ°äº†ä½ çš„ä¿¡å·ã€‚", action: "ç»™è‡ªå·±ä¹°æŸèŠ±", themeColor: "#F472B6" }];
      const THEMES = [ { bg: "bg-pink-400", text: "text-white" }, { bg: "bg-yellow-400", text: "text-pink-600" }, { bg: "bg-sky-400", text: "text-white" }, { bg: "bg-purple-400", text: "text-white" }, { bg: "bg-lime-400", text: "text-purple-600" } ];

      const Card = ({ id, index, totalCards, state, isFlipped, content, onClick }) => {
        const theme = THEMES[id % THEMES.length];
        const style = useMemo(() => {
          let transform = ''; let zIndex = index;
          if (state === 'stacked') transform = `rotate(${(id % 5) - 2}deg) translateY(${-index * 0.5}px)`;
          else if (state === 'spread') { const angle = (index - totalCards/2) * 6; const x = (index - totalCards/2) * 12; transform = `translate(${x}px, 0) rotate(${angle}deg)`; }
          else if (state === 'selected') { transform = `scale(1.05) rotate(0deg)`; zIndex = 1000; }
          else if (state === 'hidden') transform = `translate(0, 150vh)`;
          return { position: 'absolute', top: 'auto', left: 'auto', width: '100%', height: '100%', transform, zIndex, transition: 'all 0.6s cubic-bezier(0.25, 0.8, 0.25, 1)', cursor: state === 'spread' ? 'pointer' : 'default' };
        }, [state, index, totalCards, id]);

        return (
          <div style={style} className="perspective-1000" onClick={() => state === 'spread' && onClick(id)}>
            <div className={`relative w-full h-full transition-transform duration-700 transform-style-3d ${isFlipped ? 'rotate-y-180' : ''}`}>
              <div className={`absolute w-full h-full backface-hidden rounded-[24px] border-4 border-white shadow-xl ${theme.bg} flex flex-col items-center justify-center`}>
                <div className="relative w-24 h-24 mb-5 flex items-center justify-center">
                     <span className="absolute -top-5 -right-3 text-4xl filter drop-shadow-lg z-10 fairy-fly">ğŸ§šâ€â™€ï¸</span>
                    <div className="w-full h-full bg-white/30 backdrop-blur-md rounded-full flex items-center justify-center text-white shadow-inner"><Icons.Cloud /></div>
                </div>
                <div className="pop-font text-white text-3xl font-bold tracking-widest drop-shadow-md">GROWTH</div>
              </div>
              <div className="absolute w-full h-full backface-hidden rotate-y-180 rounded-[24px] bg-white border-4 border-white shadow-xl flex flex-col overflow-hidden">
                <div className={`flex-1 ${theme.bg} p-6 flex flex-col items-center justify-center text-center relative`}>
                   {content ? (
                     <div className="z-10 animate-in fade-in zoom-in duration-500">
                        <h2 className={`pop-font text-4xl font-bold mb-4 ${theme.text} drop-shadow-md leading-tight`}>{content.title}</h2>
                        <div className="w-12 h-1 bg-white/50 rounded-full mx-auto mb-4"></div>
                        <p className={`font-bold opacity-90 ${theme.text} text-lg leading-relaxed`}>{content.wisdom}</p>
                     </div>
                   ) : <div className="text-white animate-spin"><Icons.Sparkles /></div>}
                </div>
                <div className="h-[28%] bg-white p-4 flex flex-col items-center justify-center text-center relative z-20">
                  <span className="text-xs font-bold text-slate-400 uppercase tracking-widest mb-1">Today's Action</span>
                  <p className="text-slate-800 font-bold pop-font text-lg leading-tight">{content?.action}</p>
                </div>
              </div>
            </div>
          </div>
        );
      };

      const App = () => {
        const [deckState, setDeckState] = useState('intro');
        const [selectedId, setSelectedId] = useState(null);
        const [cardContent, setCardContent] = useState(null);
        const [selectedColorTheme, setSelectedColorTheme] = useState(null);

        const fetchAIContent = async () => {
             if (!YOUR_API_KEY || YOUR_API_KEY.includes("ç²˜è´´")) return STATIC_CARDS[0];
             try {
                const genAI = new GoogleGenerativeAI(YOUR_API_KEY);
                const model = genAI.getGenerativeModel({ model: "gemini-1.5-flash" });
                const result = await model.generateContent("ä¸ºä¸€ä½å¹´è½»å¥³æ€§ç”Ÿæˆä¸€ä¸ªâ€˜ä»Šæ—¥æˆé•¿æ—¥ç­¾â€™ã€‚JSONæ ¼å¼åŒ…å«: title(2-5å­—), wisdom(ä¸€å¥è¯), action(å°è¡ŒåŠ¨), themeColorã€‚é£æ ¼ï¼šå…ƒæ°”ã€å¿«ä¹ã€‚");
                return JSON.parse(result.response.text().match(/\{[\s\S]*\}/)[0]);
             } catch (e) { return STATIC_CARDS[0]; }
        };

        const startDeck = () => setDeckState('spread');
        const pickCard = async (id) => {
            setSelectedId(id);
            const themeBg = THEMES[id % THEMES.length].bg;
            setSelectedColorTheme(themeBg);
            setDeckState('selected');
            const content = await fetchAIContent();
            setCardContent(content);
            setTimeout(() => setDeckState('revealed'), 600);
        };
        const reset = () => { setDeckState('intro'); setSelectedId(null); setCardContent(null); setSelectedColorTheme(null); };

        return (
          <div className="main-layout">
            <div className="absolute top-[-10%] right-[-10%] w-[300px] h-[300px] bg-white/20 rounded-full blur-[80px] pointer-events-none" />
            
            <div className={`transition-all duration-700 flex flex-col items-center z-20 ${deckState === 'intro' ? 'opacity-100 scale-100' : 'opacity-0 scale-90 pointer-events-none absolute'} flex-shrink-0`}>
                <h1 className="text-6xl md:text-8xl font-bold pop-font text-white drop-shadow-md mb-2">Growth<br/>Daily</h1>
                <div className="bg-white/20 backdrop-blur-md px-6 py-4 rounded-2xl text-white font-bold mb-4 text-base md:text-lg border-2 border-white/40 shadow-xl max-w-[90vw] leading-relaxed text-center">
                   å“‡å“ˆå“ˆ ä½ æ¥å•¦ï¼ğŸ¥³<br/>
                   é‚£å°±ç»™ä½ æŠ½ä¸€å¼ <span className="text-yellow-300">æ¯æ—¥ä»™å¥³ğŸ§šâ€â™€ï¸å¡</span><br/>
                   <span className="text-xs opacity-90 mt-2 block">ï¼ˆæŠ½äº†è¦å®Œæˆçš„å» ä¸ç„¶ä¸‹æ¬¡ä¸è®©ä½ æŠ½ ğŸ˜œï¼‰</span>
                </div>
                <button onClick={startDeck} className="group relative px-8 py-3 bg-yellow-400 text-yellow-900 font-bold text-xl rounded-full shadow-[0_4px_0_rgb(202,138,4)] active:shadow-none active:translate-y-[4px] transition-all flex items-center gap-2 border-2 border-white">
                   <Icons.Play /> å¼€å§‹æŠ½å–
                </button>
            </div>

            <div className={`transition-all duration-700 flex flex-col items-center z-20 ${deckState === 'revealed' ? 'opacity-100 scale-100' : 'opacity-0 scale-90 pointer-events-none absolute'} flex-shrink-0 min-h-[6rem] justify-end`}>
                 {selectedColorTheme && COLOR_MEANINGS[selectedColorTheme] && (
                   <div className="bg-white/20 backdrop-blur-md px-6 py-4 rounded-2xl text-white font-bold border-2 border-white/40 shadow-xl text-center animate-in fade-in zoom-in duration-500 leading-relaxed flex flex-col gap-1">
                      <p className="text-lg md:text-xl">{COLOR_MEANINGS[selectedColorTheme][0]}</p>
                      <p className="text-sm md:text-base opacity-90 font-medium">{COLOR_MEANINGS[selectedColorTheme][1]}</p>
                   </div>
                 )}
            </div>

            <div className="card-stage">
                {Array.from({length: 15}).map((_, i) => (
                    <Card key={i} id={i} index={i} totalCards={15} state={deckState === 'revealed' && selectedId === i ? 'selected' : (deckState === 'revealed' && selectedId !== i ? 'hidden' : deckState)} isFlipped={deckState === 'revealed' && selectedId === i} content={cardContent} onClick={pickCard}/>
                ))}
            </div>

            <div className="fixed bottom-8 flex items-center justify-center z-50">
               {deckState === 'revealed' && (
                <button onClick={reset} className="px-6 py-3 bg-white text-slate-800 rounded-full font-bold shadow-lg flex items-center gap-2 animate-in fade-in active:scale-95 transition-transform border-2 border-slate-100">
                   <Icons.Rotate /> å†æŠ½ä¸€å¼ 
                </button>
               )}
            </div>
          </div>
        );
      };

      const root = createRoot(document.getElementById('root'));
      root.render(<App />);
    </script>
</body>
</html>
